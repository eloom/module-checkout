define(["jquery","underscore","uiRegistry","Eloom_Checkout/js/action/get-address-by-zipcode","Magento_Checkout/js/model/full-screen-loader"],function(a,g,f,p,l){var h=null,m=null;return function(q){var n={street:{m:"street.0"},district:{m:"street.3"},city:{m:"city"},state:{m:"region"}};l.startLoader();h=a.Deferred();m=p(h,q.val());a.when(h).done(function(){var c=JSON.parse(m.responseJSON);g.each(n,function(e,d){e=e.m;try{var b="checkout.steps.".concat("shipping-step.shippingAddress.shipping-address-fieldset".concat(".")),
r=f.get(b.concat(e)).uid,k=a("#"+r);k&&"text"==k.attr("type")&&k.val("").trigger("change")}catch(u){}});g.each(c,function(e,d){d=g.propertyOf(n)(d);t("shipping-step.shippingAddress.shipping-address-fieldset",d.m,e)})}.bind(this)).fail(function(){}.bind(this)).always(function(){l.stopLoader()}.bind(this));var t=function(c,e,d){var b=null;c="checkout.steps.".concat(c.concat("."));"region"==e?""!=d&&(f.get(c.concat("region_id"))&&(b=f.get(c.concat("region_id")).uid,a("#"+b)&&(a("#"+b+" option").filter(function(){return a.trim(a(this).val())==
d}).attr("selected",!0),a("#"+b).trigger("change"))),f.get(c.concat("region_id_input"))&&(b=f.get(c.concat("region_id_input")).uid,a("#"+b)&&a("#"+b).val(d).trigger("change"))):(b=f.get(c.concat(e)).uid,a("#"+b)&&a("#"+b).val(d).trigger("change"))}}});
